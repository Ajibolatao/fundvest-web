<script src="/scripts/profile.js" defer></script>

<div class="profile">
  <!-- MAIN -->
  <main class="main">
    <!-- LEFT -->
    <%- include ('../partials/sidebar', {active: 'profile'}) %>
    <!-- Left ends here -->

    <!-- RIGHT -->
    <div class="main__right">
      <!-- TOP BAR -->
      <div class="top-bar">
        <div>
          <i class="bi bi-arrow-left text-warning"></i>
        </div>
        <div class="">
          <a href="/logout" class="text-warning">logout</a>
        </div>
      </div>

      <!-- Include partial -->
      <div class="container"><%- include ('../partials/messages') %></div>

      <!-- PROFILE FORM -->
      <div class="container">
        <div class="d-flex justify-content-center pt-4">
          <!-- FORM -->
          <form
            action="/uploadID"
            method="post"
            enctype="multipart/form-data"
            class="form px-4 py-2"
          >
            <h4 class="text-center py-2">Your Profile</h4>
            <!-- CUSTOMER ID -->
            <div class="form-group px-2">
              Customer ID: <%= user.customerId %>
            </div>
            <!-- EMAIL -->
            <div class="form-row p-2">
              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  name="email"
                  value="<%= user.email %>"
                  readonly
                />
              </div>
            </div>

            <!-- NAME -->
            <div class="form-row p-2">
              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  name="firstname"
                  value="<%= user.firstname %>"
                  readonly
                />
              </div>
              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  name="lastname"
                  value="<%= user.lastname %>"
                  readonly
                />
              </div>
            </div>

            <!-- FOURTH ROW -->
            <div class="form-row p-2">
              <div class="col">
                <input
                  type="number"
                  class="form-control"
                  name="tel"
                  value="<%= user.tel %>"
                  readonly
                />
              </div>
              <div class="col">
                <% if (user.gender === '') {%>
                <select id="" class="form-control" name="gender">
                  <option value="m">Male</option>
                  <option value="f">Female</option>
                </select>
                <% } else { %>
                <input type="text" value="Male" readonly class="form-control" />
                <% } %>
              </div>
            </div>

            <!-- FIFTH ROW -->
            <div class="form-group p-2">
              <% if (user.idCard.path === '') {%>
              <label for="idCard">Upload your ID</label>
              <input
                type="file"
                name="idCard"
                id="idCard"
                class="form-control-file"
              />
              <span class="text_sm"
                >Note: Image size should not exceed 1MB</span
              >
              <% } %>
            </div>

            <!-- DATE OF BIRTH -->
            <div class="form-group px-2">
              <% if (user.DOB === '') {%>
              <label for="DOB">Date of birth</label>
              <input type="date" name="DOB" id="DOB" class="form-control" />

              <% } else { %>
              <label for="DOB">Date of birth</label>
              <input
                type="date"
                name="DOB"
                id="DOB"
                class="form-control"
                readonly
                value="<%= user.DOB %>"
              />

              <% } %>
            </div>

            <div class="form-group d-flex justify-content-center">
              <input
                type="submit"
                value="Update"
                class="btn btn-outline-primary"
              />
            </div>
          </form>
        </div>
      </div>

      <!-- ADD BANK ACCOUBT -->
      <!-- IF THE ADDED BANKS ARE LESS THAN THREE -->
      <% if(activeUser.banks.length < 2) { %>
      <div class="container mt-4">
        <div class="d-flex justify-content-center">
          <!--  -->
          <form action="/add-bank-account" method="POST" class="form px-4 py-2">
            <h4 class="display-6 text-center py-2">Add bank account</h4>

            <!-- Select Bank -->
            <div class="form-group">
              <!-- BANK NAME -->
              <select name="bankName" class="form-control">
                <option value="Abbey Mortgage Bank">Abbey Mortgage Bank</option>
                <option value="Access Bank">Access Bank</option>
                <option value="Access Bank (Diamond)">
                  Access Bank (Diamond)
                </option>
                <option value="ALAT by WEMA">ALAT by WEMA</option>
                <option value="Amju Unique MFB">Amju Unique MFB</option>
                <option value="ASO Savings and Loans">
                  ASO Savings and Loans
                </option>
                <option value="Bainescredit MFB">Bainescredit MFB</option>
                <option value="Bowen Microfinance Bank">
                  Bowen Microfinance Bank
                </option>
                <option value="Carbon">Carbon</option>
                <option value="CEMCS Microfinance Bank">
                  CEMCS Microfinance Bank
                </option>
                <option value="Citibank Nigeria">Citibank Nigeria</option>
                <option value="Coronation Merchant Bank">
                  Coronation Merchant Bank
                </option>
                <option value="Ecobank Nigeria">Ecobank Nigeria</option>
                <option value="Ekondo Microfinance Bank">
                  Ekondo Microfinance Bank
                </option>
                <option value="Eyowo">Eyowo</option>
                <option value="Fidelity Bank">Fidelity Bank</option>
                <option value="Firmus MFB">Firmus MFB</option>
                <option value="First Bank of Nigeria">
                  First Bank of Nigeria
                </option>
                <option value="First City Monument Bank">
                  First City Monument Bank
                </option>
                <option value="FSDH Merchant Bank Limited">
                  FSDH Merchant Bank Limited
                </option>
                <option value="Globus Bank">Globus Bank</option>
                <option value="GoMoney">GoMoney</option>
                <option value="Guaranty Trust Bank">Guaranty Trust Bank</option>
                <option value="Hackman Microfinance Bank">
                  Hackman Microfinance Bank
                </option>
                <option value="Hasal Microfinance Bank">
                  Hasal Microfinance Bank
                </option>
                Heritage Bank
                <option value="Ibile Microfinance Bank">
                  Ibile Microfinance Bank
                </option>
                <option value="Infinity MFB">Infinity MFB</option>
                <option value="Jaiz Bank">Jaiz Bank</option>
                <option value="Kadpoly MFB">Kadpoly MFB</option>
                <option value="Keystone Bank">Keystone Bank</option>
                <option value="Kredi Money MFB LTD">Kredi Money MFB LTD</option>
                <option value="Kuda Bank">Kuda Bank</option>
                <option value="Lagos Building Investment Company Plc.">
                  Lagos Building Investment Company Plc.
                </option>
                <option value="Links MFB">Links MFB</option>
                <option value="Mayfair MFB">Mayfair MFB</option>
                <option value="Mint MFB">Mint MFB</option>
                <option value="Paga">Paga</option>
                <option value="PalmPay">PalmPay</option>
                <option value="Parallex Bank">Parallex Bank</option>
                <option value="Parkway - ReadyCash">Parkway - ReadyCash</option>
                <option value="Paycom">Paycom</option>
                <option value="Petra Mircofinance Bank Plc">
                  Petra Mircofinance Bank Plc
                </option>
                <option value="Polaris Bank">Polaris Bank</option>
                <option value="Providus Bank">Providus Bank</option>
                <option value="Rand Merchant Bank">Rand Merchant Bank</option>
                <option value="Rubies MFB">Rubies MFB</option>
                <option value="Sparkle Microfinance Bank">
                  Sparkle Microfinance Bank
                </option>
                <option value="Stanbic IBTC Bank">Stanbic IBTC Bank</option>
                <option value="Standard Chartered Bank">
                  Standard Chartered Bank
                </option>
                <option value="Sterling Bank">Sterling Bank</option>
                <option value="Suntrust Bank">Suntrust Bank</option>
                <option value="TAJ Bank">TAJ Bank</option>
                <option value="Tangerine Money">Tangerine Money</option>
                <option value="TCF MFB">TCF MFB</option>
                <option value="Titan Bank">Titan Bank</option>
                <option value="Union Bank of Nigeria">
                  Union Bank of Nigeria
                </option>
                <option value="United Bank For Africa">
                  United Bank For Africa
                </option>
                <option value="Unity Bank">Unity Bank</option>
                <option value="VFD Microfinance Bank Limited">
                  VFD Microfinance Bank Limited
                </option>
                <option value="Wema Bank">Wema Bank</option>
                <option value="Zenith Bank">Zenith Bank</option>
              </select>
            </div>

            <!-- ACCOUNT OWNER"S NUMBER -->
            <div class="form-group">
              <input
                type="text"
                name="accountName"
                class="form-control"
                placeholder="Enter account name"
                required
              />
            </div>
            <!-- BANK ACCOUNT NUMBER -->
            <div class="form-group">
              <input
                type="number"
                name="accountNumber"
                class="form-control"
                placeholder="Enter account number"
                required
              />
            </div>

            <!-- Submit -->
            <div class="form-group d-flex justify-content-center">
              <input
                type="submit"
                value="Submit"
                class="btn btn-outline-primary"
              />
            </div>
          </form>
        </div>
      </div>
      <% } %>

      <!-- EXTRAVA BANK ACOUNT DETAILS -->
      <div class="container d-flex justify-content-center mt-4">
        <!-- FORM STARTS -->
        <div class="form p-2">
          <h2 class="display-6 text-center p-4">Our Bank Details</h2>

          <div class="form-group">
            <label for="" class="pl-1">Bank</label>
            <input
              type="text"
              class="form-control"
              placeholder="Ecobank"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="" class="pl-1">Account Name</label>
            <input
              type="text"
              class="form-control"
              placeholder="Extrava Technologies Limited"
              readonly
            />
          </div>

          <div class="form-group">
            <label for="" class="pl-1">Account Number</label>
            <div class="input-group mb-3" >
              <input
                type="number"
                class="form-control"
                placeholder="1580034624"
                value="1580034624"
                id="accountNumber"
                readonly
              />
              <div class="input-group-append" >
                <button class="btn btn-outline-primary" type="button" id="copyBtn">
                  Copy
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- FORM ENDS -->
      </div>
    </div>
  </main>
  <!-- EXTRA SPACE -->
  <div class="container py-4"></div>
  <div class="container py-4"></div>

  <!-- FOOTER -->
  <%- include ('../partials/footer', {active:'profile'}) %>
</div>
